(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{183:function(e,t,n){"use strict";var c=n(184),r=n(78),f=n.n(r),d=n(186),o=n.n(d),l={call:function(e,t,data){var n={method:e,url:c.a.apiUrl+t,data:"post"==e?o.a.stringify(data):null,withCredentials:!0};return"post"==e&&(n.headers={"Content-Type":"application/x-www-form-urlencoded"}),f()(n)},auth:function(e,t,n){return this.call("post","Login",{login:e,password:t}).then(function(e){return e.data.success?(n.setUser(e.data),!0):e.data.message})},checkAuth:function(e){this.call("get","CheckLogin",!1).then(function(t){t.data.auth?e.setUser(t.data):e.setUser(!1)})},getProjects:function(){return this.call("get","GetProjects",!1)},createProject:function(data){return this.call("post","CreateProject",data).then(function(e){return!!e.data.success||e.data.message})},deleteProject:function(e){return this.call("post","DeleteProject",{project_id:e})},getProject:function(e){return this.call("post","GetProject",{project_id:e})},updateProject:function(data){return this.call("post","UpdateProject",data)},getRecords:function(data){return this.call("post","GetRecords",data)}};t.a=l},184:function(e,t,n){"use strict";(function(e){var c=n(185),r=n.n(c),f="https://pmanager.my-pc.pw/api/";t.a={mode:"spa",apiUrl:f,head:{titleTemplate:"%s - "+e.env.npm_package_name,title:e.env.npm_package_name||"",meta:[{charset:"utf-8"},{name:"viewport",content:"width=device-width, initial-scale=1"},{hid:"description",name:"description",content:e.env.npm_package_description||""}],link:[{rel:"icon",type:"image/x-icon",href:"/favicon.ico"},{rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons"}]},loading:{color:"#fff"},css:[],plugins:[],modules:["@nuxtjs/vuetify","@nuxtjs/axios","@nuxtjs/pwa","@nuxtjs/auth"],axios:{},auth:{strategies:{local:{endpoints:{login:{url:f+"Login",method:"post"}},tokenRequired:!1,tokenType:!1}}},vuetify:{theme:{primary:r.a.blue.darken2,accent:r.a.grey.darken3,secondary:r.a.amber.darken3,info:r.a.teal.lighten1,warning:r.a.amber.base,error:r.a.deepOrange.accent4,success:r.a.green.accent3}},build:{extend:function(e,t){},publicPath:"/app/nuxt/"},router:{middleware:["auth","master-password"]}}}).call(this,n(77))},185:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=Object.freeze({base:"#f44336",lighten5:"#ffebee",lighten4:"#ffcdd2",lighten3:"#ef9a9a",lighten2:"#e57373",lighten1:"#ef5350",darken1:"#e53935",darken2:"#d32f2f",darken3:"#c62828",darken4:"#b71c1c",accent1:"#ff8a80",accent2:"#ff5252",accent3:"#ff1744",accent4:"#d50000"}),r=Object.freeze({base:"#e91e63",lighten5:"#fce4ec",lighten4:"#f8bbd0",lighten3:"#f48fb1",lighten2:"#f06292",lighten1:"#ec407a",darken1:"#d81b60",darken2:"#c2185b",darken3:"#ad1457",darken4:"#880e4f",accent1:"#ff80ab",accent2:"#ff4081",accent3:"#f50057",accent4:"#c51162"}),f=Object.freeze({base:"#9c27b0",lighten5:"#f3e5f5",lighten4:"#e1bee7",lighten3:"#ce93d8",lighten2:"#ba68c8",lighten1:"#ab47bc",darken1:"#8e24aa",darken2:"#7b1fa2",darken3:"#6a1b9a",darken4:"#4a148c",accent1:"#ea80fc",accent2:"#e040fb",accent3:"#d500f9",accent4:"#aa00ff"}),d=Object.freeze({base:"#673ab7",lighten5:"#ede7f6",lighten4:"#d1c4e9",lighten3:"#b39ddb",lighten2:"#9575cd",lighten1:"#7e57c2",darken1:"#5e35b1",darken2:"#512da8",darken3:"#4527a0",darken4:"#311b92",accent1:"#b388ff",accent2:"#7c4dff",accent3:"#651fff",accent4:"#6200ea"}),o=Object.freeze({base:"#3f51b5",lighten5:"#e8eaf6",lighten4:"#c5cae9",lighten3:"#9fa8da",lighten2:"#7986cb",lighten1:"#5c6bc0",darken1:"#3949ab",darken2:"#303f9f",darken3:"#283593",darken4:"#1a237e",accent1:"#8c9eff",accent2:"#536dfe",accent3:"#3d5afe",accent4:"#304ffe"}),l=Object.freeze({base:"#2196f3",lighten5:"#e3f2fd",lighten4:"#bbdefb",lighten3:"#90caf9",lighten2:"#64b5f6",lighten1:"#42a5f5",darken1:"#1e88e5",darken2:"#1976d2",darken3:"#1565c0",darken4:"#0d47a1",accent1:"#82b1ff",accent2:"#448aff",accent3:"#2979ff",accent4:"#2962ff"}),h=Object.freeze({base:"#03a9f4",lighten5:"#e1f5fe",lighten4:"#b3e5fc",lighten3:"#81d4fa",lighten2:"#4fc3f7",lighten1:"#29b6f6",darken1:"#039be5",darken2:"#0288d1",darken3:"#0277bd",darken4:"#01579b",accent1:"#80d8ff",accent2:"#40c4ff",accent3:"#00b0ff",accent4:"#0091ea"}),m=Object.freeze({base:"#00bcd4",lighten5:"#e0f7fa",lighten4:"#b2ebf2",lighten3:"#80deea",lighten2:"#4dd0e1",lighten1:"#26c6da",darken1:"#00acc1",darken2:"#0097a7",darken3:"#00838f",darken4:"#006064",accent1:"#84ffff",accent2:"#18ffff",accent3:"#00e5ff",accent4:"#00b8d4"}),w=Object.freeze({base:"#009688",lighten5:"#e0f2f1",lighten4:"#b2dfdb",lighten3:"#80cbc4",lighten2:"#4db6ac",lighten1:"#26a69a",darken1:"#00897b",darken2:"#00796b",darken3:"#00695c",darken4:"#004d40",accent1:"#a7ffeb",accent2:"#64ffda",accent3:"#1de9b6",accent4:"#00bfa5"}),k=Object.freeze({base:"#4caf50",lighten5:"#e8f5e9",lighten4:"#c8e6c9",lighten3:"#a5d6a7",lighten2:"#81c784",lighten1:"#66bb6a",darken1:"#43a047",darken2:"#388e3c",darken3:"#2e7d32",darken4:"#1b5e20",accent1:"#b9f6ca",accent2:"#69f0ae",accent3:"#00e676",accent4:"#00c853"}),v=Object.freeze({base:"#8bc34a",lighten5:"#f1f8e9",lighten4:"#dcedc8",lighten3:"#c5e1a5",lighten2:"#aed581",lighten1:"#9ccc65",darken1:"#7cb342",darken2:"#689f38",darken3:"#558b2f",darken4:"#33691e",accent1:"#ccff90",accent2:"#b2ff59",accent3:"#76ff03",accent4:"#64dd17"}),y=Object.freeze({base:"#cddc39",lighten5:"#f9fbe7",lighten4:"#f0f4c3",lighten3:"#e6ee9c",lighten2:"#dce775",lighten1:"#d4e157",darken1:"#c0ca33",darken2:"#afb42b",darken3:"#9e9d24",darken4:"#827717",accent1:"#f4ff81",accent2:"#eeff41",accent3:"#c6ff00",accent4:"#aeea00"}),j=Object.freeze({base:"#ffeb3b",lighten5:"#fffde7",lighten4:"#fff9c4",lighten3:"#fff59d",lighten2:"#fff176",lighten1:"#ffee58",darken1:"#fdd835",darken2:"#fbc02d",darken3:"#f9a825",darken4:"#f57f17",accent1:"#ffff8d",accent2:"#ffff00",accent3:"#ffea00",accent4:"#ffd600"}),_=Object.freeze({base:"#ffc107",lighten5:"#fff8e1",lighten4:"#ffecb3",lighten3:"#ffe082",lighten2:"#ffd54f",lighten1:"#ffca28",darken1:"#ffb300",darken2:"#ffa000",darken3:"#ff8f00",darken4:"#ff6f00",accent1:"#ffe57f",accent2:"#ffd740",accent3:"#ffc400",accent4:"#ffab00"}),O=Object.freeze({base:"#ff9800",lighten5:"#fff3e0",lighten4:"#ffe0b2",lighten3:"#ffcc80",lighten2:"#ffb74d",lighten1:"#ffa726",darken1:"#fb8c00",darken2:"#f57c00",darken3:"#ef6c00",darken4:"#e65100",accent1:"#ffd180",accent2:"#ffab40",accent3:"#ff9100",accent4:"#ff6d00"}),P=Object.freeze({base:"#ff5722",lighten5:"#fbe9e7",lighten4:"#ffccbc",lighten3:"#ffab91",lighten2:"#ff8a65",lighten1:"#ff7043",darken1:"#f4511e",darken2:"#e64a19",darken3:"#d84315",darken4:"#bf360c",accent1:"#ff9e80",accent2:"#ff6e40",accent3:"#ff3d00",accent4:"#dd2c00"}),x=Object.freeze({base:"#795548",lighten5:"#efebe9",lighten4:"#d7ccc8",lighten3:"#bcaaa4",lighten2:"#a1887f",lighten1:"#8d6e63",darken1:"#6d4c41",darken2:"#5d4037",darken3:"#4e342e",darken4:"#3e2723"}),z=Object.freeze({base:"#607d8b",lighten5:"#eceff1",lighten4:"#cfd8dc",lighten3:"#b0bec5",lighten2:"#90a4ae",lighten1:"#78909c",darken1:"#546e7a",darken2:"#455a64",darken3:"#37474f",darken4:"#263238"}),C=Object.freeze({base:"#9e9e9e",lighten5:"#fafafa",lighten4:"#f5f5f5",lighten3:"#eeeeee",lighten2:"#e0e0e0",lighten1:"#bdbdbd",darken1:"#757575",darken2:"#616161",darken3:"#424242",darken4:"#212121"}),U=Object.freeze({black:"#000000",white:"#ffffff",transparent:"transparent"});t.default=Object.freeze({red:c,pink:r,purple:f,deepPurple:d,indigo:o,blue:l,lightBlue:h,cyan:m,teal:w,green:k,lightGreen:v,lime:y,yellow:j,amber:_,orange:O,deepOrange:P,brown:x,blueGrey:z,grey:C,shades:U})},186:function(e,t,n){"use strict";t.decode=t.parse=n(187),t.encode=t.stringify=n(188)},187:function(e,t,n){"use strict";function c(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,f){t=t||"&",n=n||"=";var d={};if("string"!=typeof e||0===e.length)return d;var o=/\+/g;e=e.split(t);var l=1e3;f&&"number"==typeof f.maxKeys&&(l=f.maxKeys);var h=e.length;l>0&&h>l&&(h=l);for(var i=0;i<h;++i){var m,w,k,v,y=e[i].replace(o,"%20"),j=y.indexOf(n);j>=0?(m=y.substr(0,j),w=y.substr(j+1)):(m=y,w=""),k=decodeURIComponent(m),v=decodeURIComponent(w),c(d,k)?r(d[k])?d[k].push(v):d[k]=[d[k],v]:d[k]=v}return d};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},188:function(e,t,n){"use strict";var c=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,d){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?map(f(e),function(f){var d=encodeURIComponent(c(f))+n;return r(e[f])?map(e[f],function(e){return d+encodeURIComponent(c(e))}).join(t):d+encodeURIComponent(c(e[f]))}).join(t):d?encodeURIComponent(c(d))+n+encodeURIComponent(c(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function map(e,t){if(e.map)return e.map(t);for(var n=[],i=0;i<e.length;i++)n.push(t(e[i],i));return n}var f=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},207:function(e,t,n){"use strict";n.r(t);var c=n(183),r={components:{},methods:{auth:function(e){var t=this;e.preventDefault(),t.createStorage?c.a.call("post","CreateKeyChain",{master_password:t.password}).then(function(e){e.data.success?(t.$router.push("/"),t.createStorage=!1,t.storePassword(t.password)):t.message=e.data.message}):c.a.getRecords({master_password:t.password}).then(function(e){!1===e.data.success&&0===e.data.status?t.createStorage=!0:!1!==e.data.success&&(t.storePassword(t.password),t.$router.push("/")),t.message=e.data.message})},changePassword:function(){var e=this;event.preventDefault(),c.a.call("post","ChangeMasterPassword",{master_password:e.$store.state.masterPassword,new_password:e.new_password}).then(function(t){e.new_password_message=t.data.message,t.data.success&&e.storePassword(new_password)})},deleteStorage:function(e){e.preventDefault();var t=this;c.a.call("get","DeleteKeyChain",!1).then(function(e){t.message=e.data.message,t.$store.commit("setMasterPassword","")})},storePassword:function(e){window.chrome&&window.chrome.management&&(chrome.runtime.sendMessage({action:"password",password:e}),console.log("Sending password....")),this.$store.commit("setMasterPassword",e)}},data:function(){return{password:null,show:!1,message:"",createStorage:!1,new_password:null,new_password_message:""}},mounted:function(){var e=this;window.chrome&&window.chrome.management&&!e.$store.state.masterPassword&&chrome.runtime.sendMessage({action:"GetPassword"},function(t){t.password&&(e.$store.commit("setMasterPassword",t.password),e.$router.push("/"))}),c.a.call("get","GetKeyChain",!1).then(function(t){1!==t.data.status&&(e.createStorage=!0,e.message=t.data.message)})}},f=n(23),component=Object(f.a)(r,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{attrs:{column:"","justify-center":"","align-center":""}},[n("v-flex",{attrs:{xs12:"",sm8:"",md6:""}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("Хранилище")]),e._v(" "),n("v-card-text",[n("p",[e._v(e._s(e.message))]),e._v(" "),n("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:e.auth}},[e.$store.state.masterPassword?e._e():n("v-text-field",{attrs:{"append-icon":e.show?"visibility":"visibility_off",type:e.show?"text":"password",name:"password",label:"Пароль",counter:"",required:""},on:{"click:append":function(t){e.show=!e.show}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),e.$store.state.masterPassword?e._e():n("v-btn",{attrs:{type:"submit"}},[e._v("\n            Вход\n          ")]),e._v(" "),n("v-btn",{attrs:{type:"button",color:"red"},on:{click:e.deleteStorage}},[e._v("\n            Удалить хранилище\n          ")])],1)],1)],1),e._v(" "),e.$store.state.masterPassword?n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("Изменить master пароль")]),e._v(" "),n("v-card-text",[n("p",[e._v(e._s(e.new_password_message))]),e._v(" "),n("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:e.changePassword}},[n("v-text-field",{attrs:{"append-icon":e.show?"visibility":"visibility_off",type:e.show?"text":"password",name:"password",label:"Новый пароль",counter:"",required:""},on:{"click:append":function(t){e.show=!e.show}},model:{value:e.new_password,callback:function(t){e.new_password=t},expression:"new_password"}}),e._v(" "),n("v-btn",{attrs:{type:"submit"}},[e._v("\n            Изменить\n          ")])],1)],1)],1):e._e()],1)],1)},[],!1,null,null,null);t.default=component.exports}}]);